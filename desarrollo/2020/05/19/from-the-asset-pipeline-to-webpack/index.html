<!doctype html>
<html lang="en" class="h-full antialiased">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- Begin Bridgetown SEO tag v7.0.1 -->
<title>From the Asset Pipeline to Webpack | Mario Alberto Chávez - Ruby on Rails, AI Tools &amp; former CTO</title>
<meta property="og:title" content="From the Asset Pipeline to Webpack" />
<meta name="author" content="Mario Alberto Chávez" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Rails 5.2 and newer adds Webpack to support modern tools to work on newer frontend technologies." />
<meta property="og:description" content="Rails 5.2 and newer adds Webpack to support modern tools to work on newer frontend technologies." />
<link rel="canonical" href="https://mariochavez.io/desarrollo/2020/05/19/from-the-asset-pipeline-to-webpack/" />
<meta property="og:url" content="https://mariochavez.io/desarrollo/2020/05/19/from-the-asset-pipeline-to-webpack/" />
<meta property="og:site_name" content="Mario Alberto Chávez - Ruby on Rails, AI Tools &amp; former CTO" />
<meta property="og:image" content="https://mariochavez.io/images/webpack/webpack-post.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-19T01:00:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://mariochavez.io/images/webpack/webpack-post.jpg" />
<meta property="twitter:title" content="From the Asset Pipeline to Webpack" />
<meta name="twitter:site" content="@mario_chavez" />
<meta name="twitter:creator" content="@Mario Alberto Chávez" />
<!-- End Bridgetown SEO tag -->


<link type="application/atom+xml" rel="alternate" href="https://mariochavez.io/feed.xml" title="Mario Alberto Chávez - Ruby on Rails, AI Tools & former CTO" />

<meta property="og:type" content="article">
<meta property="og:site_name" content="Mario Alberto Chávez - Software Development">
<meta name="twitter:card" content="summary_large_image">

<meta name="robots" content="index, follow">
<meta name="revisit-after" content="7 days">

<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="/assets/index.R2XT6LUA.css" />
<script src="/assets/index.OQDTOKYE.js" defer></script>


<script type="application/javascript">
  (function() {
    try {
      const theme = localStorage.getItem('theme');
      if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    } catch (e) {
      // Fail silently
    }
  })();
</script>

<script type="application/ld+json">
  {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://mariochavez.io/#website",
      "url": "https://mariochavez.io/",
      "name": "Mario Alberto Chávez",
      "description": "Ruby on Rails architect and AI toolmaker from Colima, México. Creator of Rails MCP Server, former fintech CTO, and author of Aprendiendo Ruby on Rails. Exploring the convergence of Rails and AI.",
      "publisher": {
        "@type": "Person",
        "@id": "https://mariochavez.io/#person",
        "name": "Mario Alberto Chávez"
      },
    },
    {
      "@type": "CollectionPage",
      "@id": "https://mariochavez.io/#webpage",
      "url": "https://mariochavez.io/",
      "name": "Inicio | Mario Alberto Chávez",
      "isPartOf": {
        "@id": "https://mariochavez.io/#website"
      },
      "about": {
        "@id": "https://mariochavez.io/#person"
      },
      "description": "Ruby on Rails architect and AI toolmaker from Colima, México. Creator of Rails MCP Server, former fintech CTO, and author of Aprendiendo Ruby on Rails. Exploring the convergence of Rails and AI.",
      "breadcrumb": {
        "@id": "https://mariochavez.io/#breadcrumb"
      },
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://mariochavez.io/#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Inicio"
        }
      ]
    },
    {
      "@type": "Person",
      "@id": "https://mariochavez.io/#person",
      "name": "Mario Alberto Chávez",
      "image": {
        "@type": "ImageObject",
        "@id": "https://mariochavez.io/#personlogo",
        "inLanguage": "es-MX",
        "url": "https://mariochavez.io/images/mario_chavez.svg",
        "contentUrl": "https://mariochavez.io/images/mario_chavez.svg",
        "caption": "Mario Alberto Chávez"
      },
      "description": "I'm Mario Alberto, a software engineer and entrepreneur based in Colima, México. I'm the creator of Rails MCP Server and former CTO/co-founder of Aoorora, where I architected a core banking platform in Ruby on Rails that enabled lending startups to build on modern, secure infrastructure. I spend my time at the intersection of Ruby on Rails and AI—building tools that help developers work smarter. When I'm not writing code, I'm documenting territory, popular culture, and memory through photography.",
      "sameAs": [
        "https://github.com/mariochavez",
        "https://x.com/mario_chavez",
        "https://linkedin.com/in/mariochavez",
        "https://instagram.com/mario_chavez"
      ]
    }
  ]
}

</script>

  </head>

  <body class="flex h-full flex-col bg-zinc-50 font-manrope dark:bg-black">
    <!-- Outer Frame for the "Card" look on large screens -->
    <div class="fixed inset-0 flex justify-center sm:px-8">
      <div class="flex w-full max-w-7xl lg:px-8">
        <div
          class="
            w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20
          "
        ></div>
      </div>
    </div>

    <div class="relative flex w-full flex-col">
      <!-- Header / Navigation -->
<header
  data-controller="menu"
  data-menu-open-value=false
  class="pointer-events-none relative z-50 flex flex-none flex-col"
>
  <div class="top-0 z-10 h-16 pt-6">
    <div class="sm:px-8 w-full max-w-7xl mx-auto lg:px-8">
      <div class="relative px-4 sm:px-8 lg:px-12">
        <div class="mx-auto max-w-2xl lg:max-w-5xl">
          <div class="relative flex gap-4">
            <!-- Logo / Avatar -->
            <div class="flex flex-1 pointer-events-auto">
              <a
                href="/"
                class="
                  h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1
                  ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10
                "
              >
                <img
                  src="/images/mario.jpg"
                  alt="Mario Alberto Chávez"
                  class="
                    h-9 w-9 rounded-full bg-zinc-100 object-cover
                    dark:bg-zinc-800
                  "
                >
              </a>
            </div>

            <!-- Desktop Nav -->
            <div class="hidden md:flex flex-1 justify-center pointer-events-auto">
              <nav
                class="
                  flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg
                  shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90
                  dark:text-zinc-200 dark:ring-white/10
                "
              >
               
                  <a
                      href="/about"
                    class="
                      relative block px-3 py-2 transition hover:text-emerald-500
                      dark:hover:text-emerald-400
                    "
                  >
                  About
                  </a>
                
                  <a
                      href="/articles"
                    class="
                      relative block px-3 py-2 transition hover:text-emerald-500
                      dark:hover:text-emerald-400
                    "
                  >
                  Articles
                  </a>
                
                  <a
                      href="/projects"
                    class="
                      relative block px-3 py-2 transition hover:text-emerald-500
                      dark:hover:text-emerald-400
                    "
                  >
                  Projects
                  </a>
                
              </nav>
            </div>

            <!-- Mobile Menu Button & Theme Toggle -->
            <div class="flex flex-1 justify-end gap-4 pointer-events-auto">
              <!-- Mobile Menu Button -->
              <div class="pointer-events-auto md:hidden">
                <button
                  data-action="menu#toggle"
                  class="
                    group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium
                    text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur
                    dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10
                    dark:hover:ring-white/20
                  "
                >
                  Menu
                  <i
                    class="
                      ml-3 h-auto w-2 [&_svg]:size-3 stroke-zinc-500 group-hover:stroke-zinc-700
                      dark:group-hover:stroke-zinc-400
                    "
                    
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
</i>
                </button>
              </div>

              <div 
                data-menu-target="overlay"
                data-action="click->menu#toggle"
                class="
                  data-[open=false]:hidden fixed inset-0 z-50 bg-zinc-800/40 backdrop-blur-xs duration-150 
                  opacity-100 data-[open=false]:opacity-0 ease-in dark:bg-black/80
                " 
                aria-hidden="true" 
                data-open="false">
              </div>

              <!-- Theme Toggle (Visual Only) -->
              <button
                  data-controller="theme"
                  data-theme-dark-value
                  data-action="theme#toggle"
                  class="
                    group rounded-full bg-white/90 px-3 py-2 shadow-lg ring-1 shadow-zinc-800/5 ring-zinc-900/5 
                    backdrop-blur-sm transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20
                  "
              >
                <i
                  data-theme-target="light"
                  class="
                    [&_svg]:size-5 text-zinc-500 transition group-hover:fill-zinc-200
                    group-hover:text-zinc-700 dark:hidden
                  "
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
</i>

                <i
                  data-theme-target="dark"
                  class="
                    hidden [&_svg]:size-5 text-emerald-700 transition dark:block
                    dark:group-hover:text-emerald-400
                  "
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>
</i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Menu Dropdown -->
  <div
    data-menu-target="menu"
    data-open="false"
    class="
      data-[open=false]:hidden opacity-100 data-[open=false]:opacity-0 data-[open=false]:scale-95 
      fixed inset-x-0 top-0 z-50 origin-top rounded-b-2xl bg-zinc-50 px-6 pb-6 pt-24
      shadow-2xl shadow-zinc-900/20 ring-1 ring-zinc-900/5 dark:bg-zinc-900 transition-all ease-out
      dark:ring-zinc-800 pointer-events-auto md:hidden duration-150
    "
  >
    <div class="flex flex-col space-y-4">
      <div class="flex flex-row-reverse items-center justify-between">
        <button 
           data-action="menu#toggle"
           aria-label="Close menu" 
           class="-m-1 p-1 [&_svg]:size-6 text-zinc-500 dark:text-zinc-400" 
           type="button">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="m17.25 6.75-10.5 10.5M6.75 6.75l10.5 10.5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
 
        </button>
        <h2 class="text-sm font-medium text-zinc-600 dark:text-zinc-400">Navigation</h2>
      </div>
      
        <a
            href="/about"
          class="block text-base font-semibold text-zinc-800 dark:text-zinc-100"
        >
          About
        </a>
      
        <a
            href="/articles"
          class="block text-base font-semibold text-zinc-800 dark:text-zinc-100"
        >
          Articles
        </a>
      
        <a
            href="/projects"
          class="block text-base font-semibold text-zinc-800 dark:text-zinc-100"
        >
          Projects
        </a>
      
    </div>
  </div>
</header>


      <main class="flex-auto pointer-events-auto">
  <div class="mt-16 sm:px-8 sm:mt-32">
    <div class="mx-auto w-full max-w-7xl lg:px-8">
      <div class="relative px-4 sm:px-8 lg:px-12">
        <div class="mx-auto max-w-2xl lg:max-w-5xl">
          <div class="xl:relative">
            <div class="mx-auto max-w-2xl">
              <!-- Back Button -->
              <a
                href="/articles"
                aria-label="Go back to articles"
                class="
                  group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white
                  shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border
                  dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10
                  dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-left-5
                  lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0
                "
              >
                <i
                  class="
                    [&_svg]:size-4 text-zinc-500 transition group-hover:text-zinc-700
                    dark:text-zinc-400 dark:group-hover:text-zinc-300
                  "
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
</i>
              </a>

              <article>
                <header class="flex flex-col">
                  <time
                      datetime="2020-05-19 00:00:00 -0600"
                    class="
                      order-first flex items-center text-base text-zinc-400
                      dark:text-zinc-500
                    "
                  >
                    <span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span>
                    <span class="ml-3">May 19, 2020</span>
                  </time>

                  <h1
                    class="
                      mt-6 text-4xl font-bold tracking-tight text-emerald-700 dark:text-emerald-100
                      sm:text-5xl
                    "
                  >
                  From the Asset Pipeline to Webpack
                  </h1>

                  <h3 class="text-2xl text-zinc-600 font-light tracking-tight mt-6 dark:text-zinc-100 sm:text-3xl">Rails 5.2 and newer adds Webpack to support modern tools to work on newer frontend technologies.</h3>
                </header>

                <!-- Article Content -->
                <div class="mt-8 prose prose-zinc dark:prose-invert">
                  <h1 id="from-the-asset-pipeline-to-webpack">From the Asset Pipeline to Webpack</h1>

<p>In May 2011, DHH announced at Railsconf a new framework for Rails, The Asset Pipeline. It was also announced that SCSS and CoffeeScript, along with jQuery, were to become a default on every Rails application.</p>

<p>The recognition that Web Development changed since Rails was created, and that it was the time for Rails to promote to first-class citizen every aspect of building Web UIs.</p>

<div class="gallery">
  <figure>
    <img src="/images/webpack/dhh-tweet.png" loading="lazy" />
  </figure>
</div>

<p>It was a step forward, but people complained about SCSS and CoffeeScript becoming the default on every project. The plan was in place, and on August 31st, 2011 <a href="http://guides.rubyonrails.org/3_1_release_notes.html" target="_blank">version 3.1 was released</a>.</p>

<p>In the Rails world, the frontend development was done with HTML/CSS and jQuery plugins, but the UI complexity and Javascript spaghetti code needed a different solution, this how frontend libraries started to arise, being one of the first <a href="http://backbonejs.org" target="_blank">Backbone.js</a></p>

<p>Managing, invalidating, and serving assets was a difficult task, and <a href="http://guides.rubyonrails.org/asset_pipeline.html" target="_blank">the Asset Pipeline</a> came with the promise to make it easy. Front-end development continued moving forward; eventually, Backbone.js died, and jQuery was not enough anymore.</p>

<p><a href="https://nodejs.org/en/" target="_blank">Node.js</a>, <a href="https://www.npmjs.com">NPM</a>, and ECMA 5 stepped in and rapidly influenced how to do frontend development. Single-page applications became a thing, and this had a direct effect in the Rails world where it was no longer easy just to download a Javascript file, put it in the vendor folder, and expect it to work.</p>

<p><a href="https://github.com/rails/sprockets" target="_blank">Sprockets</a>, the heart of the Asset Pipeline, tried to keep up, but somehow, it fell short. I saw different solutions that included Gulp, Grunt, and Bower as a way to keep doing modern Web frontend development, and there was no joy on any of it.</p>

<p>Finally, to address this situation, on April 27th, 2017 <a href="https://sipsandbits.com/2017/03/09/whats-new-in-rails-51/" target="_blank">Rails 5.1</a> was released, it included Yarn to manage Javascript dependencies and support for <a href="https://webpack.js.org">Webpack</a> with sensitive defaults and integration on Rails itself via <a href="https://github.com/rails/webpacker">Webpacker</a>.</p>

<p>Rails provide a tool that is familiar to frontend developers and eases the adoption of new Javascript libraries. Still, compatibility needs to be kept for projects that use the Asset Pipeline, so it was not removed. You can use Webpacker and the Asset Pipeline seamlessly. It may take a few more versions before the Asset Pipeline becomes deprecated.</p>

<h2 id="starting-with-webpack">Starting with Webpack.</h2>
<p>If you are creating a new Rails application starting with Webpack is easy.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rails new sample_app
</code></pre></div></div>

<p>For a new Rails project on version 6.0, Webpack is set up by default. If you need a Javascript library like React, Angular, Elm, Vuejs, or Stimulusjs, you can specify it with an option.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rails new sample_app --webpack=react
</code></pre></div></div>

<p>If you want to disable the Asset Pipeline, add the following flag to the new command.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rails new sample_app --skip-sprockets
</code></pre></div></div>

<p>Be aware that the <code class="highlighter-rouge">app/assets</code> folder is created even when this flag is set, so you might need to remove it manually.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app/assets
├── config
├── images
└── stylesheets
</code></pre></div></div>

<p>Rails configure Webpack to work seamlessly with the development, test, and production environment. The Webpacker gem is responsible for this integration. If you need to tweak or change Webpack’s configuration, configuration files can be found at the <code class="highlighter-rouge">/config</code> folder.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config/webpacker.yml
config/webpack
├── development.js
├── environment.js
├── production.js
└── test.js
</code></pre></div></div>

<p>All frontend assets are organized around packs. A pack is a bundle for all required assets, like public application assets or the administration assets. A pack is an entry point that declares all the assets for each pack; a pack can share assets between them. Pack definitions live inside <code class="highlighter-rouge">/app/javascript/packs</code> folder. The default pack is application.js.</p>

<p>Now you can create a folder for images, stylesheets, or any other asset that needs to be served with Webpack.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app/javascript
├── controllers
├── images
├── packs
└── stylesheets
    └── modules
</code></pre></div></div>
<p>Just be sure to require the assets in their corresponding packs, or Webpack will not load them.</p>

<p>Also, you need to ensure that all your views layouts are using Webpacker helpers to load the packs.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;%= javascript_pack_tag "application" %&gt;
&lt;%= stylesheet_pack_tag "application" %&gt;
</code></pre></div></div>

<p>Running the Rails server, in development mode, and visiting a page start a Webpack process to compile the required packs delaying the response from the server. Compiling assets this way is simple but slow.</p>

<p>A faster approach is running a separate Webpack process; just run the Webpack development server.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bin/webpack-dev-server
</code></pre></div></div>

<p>A benefit of having a separate process for Webpack is that it makes compilation fast, and also it auto-reload the current page if changes on assets are detected. A simple solution to start the Rails and Webpack servers on their separate process is to create a <code class="highlighter-rouge">Procfile</code> and use a tool like <a href="https://github.com/DarthSim/overmind" target="_blank">Overmind</a> to start them.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server: bin/rails server
assets: bin/webpack-dev-server
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ overmind start
server | Started with pid 9681...
assets | Started with pid 9682...
warning package.json: No license field
assets | ℹ ｢wds｣: Project is running at http://localhost:3036/
assets | ℹ ｢wds｣: webpack output is served from /packs/
assets | ℹ ｢wds｣: Content not from webpack is served from /../public/packs
assets | ℹ ｢wds｣: 404s will fallback to /index.html
server | =&gt; Booting Puma
server | =&gt; Rails 6.0.2.2 application starting in development
server | =&gt; Run `rails server --help` for more startup options
server | Puma starting in single mode...
server | * Version 4.3.3 (ruby 2.6.5-p114), codename: Mysterious Traveller
server | * Min threads: 5, max threads: 5
server | * Environment: development
server | * Listening on tcp://127.0.0.1:3036
server | * Listening on tcp://[::1]:3036
...
</code></pre></div></div>

<h2 id="moving-from-the-asset-pipeline-to-webpack">Moving from the Asset Pipeline to Webpack</h2>
<p>Everything described in the previous section applies to new Rails applications, but what about an existing application? If your application is not a Rails 6.0 o better, you might need to install Webpack manually.</p>

<p>Before continuing, I want to make it clear that if your Javascript does not follow the <a href="https://nodejs.org/api/modules.html" target="_blank">Node.js Modules</a> <a href="https://darrenderidder.github.io/talks/ModulePatterns/#/">pattern</a> you need to figure out how to change your code to make it Webpack friendly.</p>

<p>Rails applications older than version 6.0 might not have Webpack integration installed; to install it first, add the Webpacker gem to your Gemfile and run Bundler. Now generate Webpack configuration files by running the following command.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bin/rails g webpacker:install
</code></pre></div></div>

<p>If you need to add support for a frontend Javascript library like Rect or Stimulus, run the Webpacker generator.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bin/rails g webpacker:install:react
</code></pre></div></div>
<p>OR</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bin/rails g webpacker:install:stimulus
</code></pre></div></div>

<p>The <code class="highlighter-rouge">application.js</code> pack is modified to include everything you need to start working with the installed Javascript library.</p>

<p>With Webpack in place, you can start moving your assets from the Asset Pipeline folders to the new <code class="highlighter-rouge">app/javascript</code> folder. Let us start with images. Move your images to <code class="highlighter-rouge">app/javascript/images</code> in there. You can organize the images into sub-folders, for example, images for the public frontend and images for the private backend or just leave all of them there.</p>

<p>In the <code class="highlighter-rouge">application.js</code> file, you can import images one by one as follow.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import '../images/image1.png';
import '../images/image2.png';
...
import '../images/imageN.png';
</code></pre></div></div>

<p>Or you can take advantage of Webpacker’s <code class="highlighter-rouge">require.context</code> and import all of them at once.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>require.context('../images', true);
</code></pre></div></div>

<p>The second param tells Webpacker to scan subdirectories inside <code class="highlighter-rouge">app/javascript/images</code>. You can also be more selective and pass the third parameter as a regular expression to import just the matched images. To use an image in a Rails view, you need to make use of the <code class="highlighter-rouge">asset_pack_tag</code> helper.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;%= image_pack_tag("image1.png") %&gt;
</code></pre></div></div>

<p>But if you need the image URL, then use the <code class="highlighter-rouge">asset_pack_url</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;%= asset_pack_tag("image1.png") %&gt;
</code></pre></div></div>

<p>If you need to reference an image from a stylesheet file, then use the <code class="highlighter-rouge">url</code> function with the relative path to the image.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>background-image: url("../images/image1.png");
</code></pre></div></div>

<p>Moving the Stylesheets is not different than moving the images into Webpacker. Just move the files into <code class="highlighter-rouge">app/javascript/stylesheets</code>. You need to require all your stylesheet files one by one or all at once using <code class="highlighter-rouge">require.context</code> function.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>require("../stylesheets/application.css");
require("../stylesheets/module/navbar.css");

// Or all at once
require.context('../stylesheets', true);
</code></pre></div></div>
<p>If you are using SASS, it is best to require the entry file and then within SASS import your stylesheets.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>require("../stylesheets/application.scss");
</code></pre></div></div>

<p>Then in your <code class="highlighter-rouge">application.scss</code> import your stylesheets as you normally do.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import 'layout.css';
...
import 'buttons.css';
</code></pre></div></div>

<p>From your SASS file, you can import Stylesheets from installed Javascript libraries and take advantage of SASS variables or functions they provide.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@import '~bulma/bulma';
...
@import "~notyf/notyf.min";
</code></pre></div></div>

<p>Just remember to use Yarn to install any dependency that is managed by Webpack. For example, to install <a href="https://bulma.io/" target="_blank">Bulma</a> CSS library, run the following command.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ yarn add bulma
</code></pre></div></div>

<p>Moving your Javascript files could be a little more complicated, it depends on their complexity, but the approach is the same. Move all files to <code class="highlighter-rouge">app/javascript/scripts</code>, and with Yarn, add all the libraries your code depends.</p>

<p>Here is an example of adding Javascript dependencies to a project.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bin/yarn add  jquery turbolinks @rails/ujs @rails/activestorage
</code></pre></div></div>

<p>Each library has different requirements on how they need to be imported and started because of this always read their README file to ensure you are using them correctly.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import Rails from 'rails-ujs';
import Turbolinks from 'turbolinks';
import * as ActiveStorage from 'activestorage';

Rails.start()
Turbolinks.start()
ActiveStorage.start()
</code></pre></div></div>

<p>In most cases, jQuery needs to be available globally and accessible with <code class="highlighter-rouge">$</code> and <code class="highlighter-rouge">jQuery</code>. To accomplish this, open the <code class="highlighter-rouge">config/webpack/environment.js</code> file and add the following lines just above <code class="highlighter-rouge">module.exports = environment</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>const webpack = require('webpack');
environment.plugins.append('Provide', new webpack.ProvidePlugin({
  $: 'jquery',
  jQuery: 'jquery'
}))
</code></pre></div></div>

<p>If you find that your Javascript code fails to be compiled by Webpacker due to a missing variable, you may need to add additional <code class="highlighter-rouge">import</code> on top of the file that fails to compile.</p>

<p>At this point, Webpack should compile your assets successfully; if that is the case, then you are ready to remove the Asset Pipeline if not the additional debug is required.</p>

<p>To disable the Asset Pipeline in your application, remove references to <code class="highlighter-rouge">config.assets</code> in <code class="highlighter-rouge">config/environments/production.rb</code> and <code class="highlighter-rouge">config/environments/development.rb</code>. Also, remove the <code class="highlighter-rouge">config/initializer/assets.rb</code> file and finally remove coffee-rails, sass-rails, and uglifier gems from your Gemfile.</p>

<p>The file <code class="highlighter-rouge">config/application.rb</code> needs a change to not require all Rails frameworks, remove this line <code class="highlighter-rouge">require "rails/all"</code>, and expand the frameworks list where <code class="highlighter-rouge">"sprockets/railtie"</code> is commented.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>require "rails"
# Pick the frameworks you want:
require "active_model/railtie"
require "active_job/railtie"
require "active_record/railtie"
require "active_storage/engine"
require "action_controller/railtie"
require "action_mailer/railtie"
require "action_view/railtie"
# require "action_cable/engine"
# require "sprockets/railtie"
require "rails/test_unit/railtie"
</code></pre></div></div>

<p>As the last step, remove the <code class="highlighter-rouge">app/assets</code> folder. Now your application uses Webpack to manage your application assets.</p>

<h2 id="conclusion">Conclusion</h2>
<p>If you are reading this, it means that your application is running with Webpack, congratulations! Your team now has modern tools to work on your frontend.</p>


                </div>
              </article>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>


      <!-- Footer -->
<footer class="mt-32 flex-none">
  <div class="sm:px-8">
    <div class="mx-auto w-full max-w-7xl lg:px-8">
      <div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="flex flex-col items-center justify-between gap-6 sm:flex-row">
              <div
                class="
                  flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-800
                  dark:text-zinc-200
                "
              >
              
                <a
                    href="/about"
                  class="
                    transition hover:text-emerald-500
                    dark:hover:text-emerald-400
                  "
                >
                About
                </a>
              
                <a
                    href="/articles"
                  class="
                    transition hover:text-emerald-500
                    dark:hover:text-emerald-400
                  "
                >
                Articles
                </a>
              
                <a
                    href="/projects"
                  class="
                    transition hover:text-emerald-500
                    dark:hover:text-emerald-400
                  "
                >
                Projects
                </a>
              
              </div>

              <p class="text-sm text-zinc-400 dark:text-zinc-500">
              &copy; 2025 Mario Alberto Chávez. All rights reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

    </div>
  </body>
</html>
