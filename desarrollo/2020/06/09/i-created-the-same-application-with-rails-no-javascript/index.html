<!doctype html>
<html lang="en" class="h-full antialiased">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- Begin Bridgetown SEO tag v7.0.1 -->
<title>I created the same app with Rails and no Javascript | Mario Alberto Chávez - Ruby on Rails, AI Tools &amp; former CTO</title>
<meta property="og:title" content="I created the same app with Rails and no Javascript" />
<meta name="author" content="Mario Alberto Chávez" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A few weeks ago, I found a tweet from Chris McCord, the creator of Phoenix Framework for Elixir, where he was showcasing a new functionality coming with Phoenix 1.5, he wrote a small Twitter clone without Javascript, it was beautiful." />
<meta property="og:description" content="A few weeks ago, I found a tweet from Chris McCord, the creator of Phoenix Framework for Elixir, where he was showcasing a new functionality coming with Phoenix 1.5, he wrote a small Twitter clone without Javascript, it was beautiful." />
<link rel="canonical" href="https://mariochavez.io/desarrollo/2020/06/09/i-created-the-same-application-with-rails-no-javascript/" />
<meta property="og:url" content="https://mariochavez.io/desarrollo/2020/06/09/i-created-the-same-application-with-rails-no-javascript/" />
<meta property="og:site_name" content="Mario Alberto Chávez - Ruby on Rails, AI Tools &amp; former CTO" />
<meta property="og:image" content="https://mariochavez.io/images/rails_todo/rails-todo-no-js.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-09T01:01:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://mariochavez.io/images/rails_todo/rails-todo-no-js.png" />
<meta property="twitter:title" content="I created the same app with Rails and no Javascript" />
<meta name="twitter:site" content="@mario_chavez" />
<meta name="twitter:creator" content="@Mario Alberto Chávez" />
<!-- End Bridgetown SEO tag -->


<link type="application/atom+xml" rel="alternate" href="https://mariochavez.io/feed.xml" title="Mario Alberto Chávez - Ruby on Rails, AI Tools & former CTO" />

<meta property="og:type" content="article">
<meta property="og:site_name" content="Mario Alberto Chávez - Software Development">
<meta name="twitter:card" content="summary_large_image">

<meta name="robots" content="index, follow">
<meta name="revisit-after" content="7 days">

<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="/assets/index.R2XT6LUA.css" />
<script src="/assets/index.OQDTOKYE.js" defer></script>


<script type="application/javascript">
  (function() {
    try {
      const theme = localStorage.getItem('theme');
      if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    } catch (e) {
      // Fail silently
    }
  })();
</script>

<script type="application/ld+json">
  {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://mariochavez.io/#website",
      "url": "https://mariochavez.io/",
      "name": "Mario Alberto Chávez",
      "description": "Ruby on Rails architect and AI toolmaker from Colima, México. Creator of Rails MCP Server, former fintech CTO, and author of Aprendiendo Ruby on Rails. Exploring the convergence of Rails and AI.",
      "publisher": {
        "@type": "Person",
        "@id": "https://mariochavez.io/#person",
        "name": "Mario Alberto Chávez"
      },
    },
    {
      "@type": "CollectionPage",
      "@id": "https://mariochavez.io/#webpage",
      "url": "https://mariochavez.io/",
      "name": "Inicio | Mario Alberto Chávez",
      "isPartOf": {
        "@id": "https://mariochavez.io/#website"
      },
      "about": {
        "@id": "https://mariochavez.io/#person"
      },
      "description": "Ruby on Rails architect and AI toolmaker from Colima, México. Creator of Rails MCP Server, former fintech CTO, and author of Aprendiendo Ruby on Rails. Exploring the convergence of Rails and AI.",
      "breadcrumb": {
        "@id": "https://mariochavez.io/#breadcrumb"
      },
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://mariochavez.io/#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Inicio"
        }
      ]
    },
    {
      "@type": "Person",
      "@id": "https://mariochavez.io/#person",
      "name": "Mario Alberto Chávez",
      "image": {
        "@type": "ImageObject",
        "@id": "https://mariochavez.io/#personlogo",
        "inLanguage": "es-MX",
        "url": "https://mariochavez.io/images/mario_chavez.svg",
        "contentUrl": "https://mariochavez.io/images/mario_chavez.svg",
        "caption": "Mario Alberto Chávez"
      },
      "description": "I'm Mario Alberto, a software engineer and entrepreneur based in Colima, México. I'm the creator of Rails MCP Server and former CTO/co-founder of Aoorora, where I architected a core banking platform in Ruby on Rails that enabled lending startups to build on modern, secure infrastructure. I spend my time at the intersection of Ruby on Rails and AI—building tools that help developers work smarter. When I'm not writing code, I'm documenting territory, popular culture, and memory through photography.",
      "sameAs": [
        "https://github.com/mariochavez",
        "https://x.com/mario_chavez",
        "https://linkedin.com/in/mariochavez",
        "https://instagram.com/mario_chavez"
      ]
    }
  ]
}

</script>

  </head>

  <body class="flex h-full flex-col bg-zinc-50 font-manrope dark:bg-black">
    <!-- Outer Frame for the "Card" look on large screens -->
    <div class="fixed inset-0 flex justify-center sm:px-8">
      <div class="flex w-full max-w-7xl lg:px-8">
        <div
          class="
            w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20
          "
        ></div>
      </div>
    </div>

    <div class="relative flex w-full flex-col">
      <!-- Header / Navigation -->
<header
  data-controller="menu"
  data-menu-open-value=false
  class="pointer-events-none relative z-50 flex flex-none flex-col"
>
  <div class="top-0 z-10 h-16 pt-6">
    <div class="sm:px-8 w-full max-w-7xl mx-auto lg:px-8">
      <div class="relative px-4 sm:px-8 lg:px-12">
        <div class="mx-auto max-w-2xl lg:max-w-5xl">
          <div class="relative flex gap-4">
            <!-- Logo / Avatar -->
            <div class="flex flex-1 pointer-events-auto">
              <a
                href="/"
                class="
                  h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1
                  ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10
                "
              >
                <img
                  src="/images/mario.jpg"
                  alt="Mario Alberto Chávez"
                  class="
                    h-9 w-9 rounded-full bg-zinc-100 object-cover
                    dark:bg-zinc-800
                  "
                >
              </a>
            </div>

            <!-- Desktop Nav -->
            <div class="hidden md:flex flex-1 justify-center pointer-events-auto">
              <nav
                class="
                  flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg
                  shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90
                  dark:text-zinc-200 dark:ring-white/10
                "
              >
               
                  <a
                      href="/about"
                    class="
                      relative block px-3 py-2 transition hover:text-emerald-500
                      dark:hover:text-emerald-400
                    "
                  >
                  About
                  </a>
                
                  <a
                      href="/articles"
                    class="
                      relative block px-3 py-2 transition hover:text-emerald-500
                      dark:hover:text-emerald-400
                    "
                  >
                  Articles
                  </a>
                
                  <a
                      href="/projects"
                    class="
                      relative block px-3 py-2 transition hover:text-emerald-500
                      dark:hover:text-emerald-400
                    "
                  >
                  Projects
                  </a>
                
              </nav>
            </div>

            <!-- Mobile Menu Button & Theme Toggle -->
            <div class="flex flex-1 justify-end gap-4 pointer-events-auto">
              <!-- Mobile Menu Button -->
              <div class="pointer-events-auto md:hidden">
                <button
                  data-action="menu#toggle"
                  class="
                    group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium
                    text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur
                    dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10
                    dark:hover:ring-white/20
                  "
                >
                  Menu
                  <i
                    class="
                      ml-3 h-auto w-2 [&_svg]:size-3 stroke-zinc-500 group-hover:stroke-zinc-700
                      dark:group-hover:stroke-zinc-400
                    "
                    
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
</i>
                </button>
              </div>

              <div 
                data-menu-target="overlay"
                data-action="click->menu#toggle"
                class="
                  data-[open=false]:hidden fixed inset-0 z-50 bg-zinc-800/40 backdrop-blur-xs duration-150 
                  opacity-100 data-[open=false]:opacity-0 ease-in dark:bg-black/80
                " 
                aria-hidden="true" 
                data-open="false">
              </div>

              <!-- Theme Toggle (Visual Only) -->
              <button
                  data-controller="theme"
                  data-theme-dark-value
                  data-action="theme#toggle"
                  class="
                    group rounded-full bg-white/90 px-3 py-2 shadow-lg ring-1 shadow-zinc-800/5 ring-zinc-900/5 
                    backdrop-blur-sm transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20
                  "
              >
                <i
                  data-theme-target="light"
                  class="
                    [&_svg]:size-5 text-zinc-500 transition group-hover:fill-zinc-200
                    group-hover:text-zinc-700 dark:hidden
                  "
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
</i>

                <i
                  data-theme-target="dark"
                  class="
                    hidden [&_svg]:size-5 text-emerald-700 transition dark:block
                    dark:group-hover:text-emerald-400
                  "
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>
</i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Menu Dropdown -->
  <div
    data-menu-target="menu"
    data-open="false"
    class="
      data-[open=false]:hidden opacity-100 data-[open=false]:opacity-0 data-[open=false]:scale-95 
      fixed inset-x-0 top-0 z-50 origin-top rounded-b-2xl bg-zinc-50 px-6 pb-6 pt-24
      shadow-2xl shadow-zinc-900/20 ring-1 ring-zinc-900/5 dark:bg-zinc-900 transition-all ease-out
      dark:ring-zinc-800 pointer-events-auto md:hidden duration-150
    "
  >
    <div class="flex flex-col space-y-4">
      <div class="flex flex-row-reverse items-center justify-between">
        <button 
           data-action="menu#toggle"
           aria-label="Close menu" 
           class="-m-1 p-1 [&_svg]:size-6 text-zinc-500 dark:text-zinc-400" 
           type="button">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="m17.25 6.75-10.5 10.5M6.75 6.75l10.5 10.5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
 
        </button>
        <h2 class="text-sm font-medium text-zinc-600 dark:text-zinc-400">Navigation</h2>
      </div>
      
        <a
            href="/about"
          class="block text-base font-semibold text-zinc-800 dark:text-zinc-100"
        >
          About
        </a>
      
        <a
            href="/articles"
          class="block text-base font-semibold text-zinc-800 dark:text-zinc-100"
        >
          Articles
        </a>
      
        <a
            href="/projects"
          class="block text-base font-semibold text-zinc-800 dark:text-zinc-100"
        >
          Projects
        </a>
      
    </div>
  </div>
</header>


      <main class="flex-auto pointer-events-auto">
  <div class="mt-16 sm:px-8 sm:mt-32">
    <div class="mx-auto w-full max-w-7xl lg:px-8">
      <div class="relative px-4 sm:px-8 lg:px-12">
        <div class="mx-auto max-w-2xl lg:max-w-5xl">
          <div class="xl:relative">
            <div class="mx-auto max-w-2xl">
              <!-- Back Button -->
              <a
                href="/articles"
                aria-label="Go back to articles"
                class="
                  group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white
                  shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border
                  dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10
                  dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-left-5
                  lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0
                "
              >
                <i
                  class="
                    [&_svg]:size-4 text-zinc-500 transition group-hover:text-zinc-700
                    dark:text-zinc-400 dark:group-hover:text-zinc-300
                  "
                  ><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
</i>
              </a>

              <article>
                <header class="flex flex-col">
                  <time
                      datetime="2020-06-09 00:01:00 -0600"
                    class="
                      order-first flex items-center text-base text-zinc-400
                      dark:text-zinc-500
                    "
                  >
                    <span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span>
                    <span class="ml-3">June 09, 2020</span>
                  </time>

                  <h1
                    class="
                      mt-6 text-4xl font-bold tracking-tight text-emerald-700 dark:text-emerald-100
                      sm:text-5xl
                    "
                  >
                  I created the same app with Rails and no Javascript
                  </h1>

                  <h3 class="text-2xl text-zinc-600 font-light tracking-tight mt-6 dark:text-zinc-100 sm:text-3xl">A few weeks ago, I found a tweet from Chris McCord, the creator of Phoenix Framework for Elixir, where he was showcasing a new functionality coming with Phoenix 1.5, he wrote a small Twitter clone without Javascript, it was beautiful.</h3>
                </header>

                <!-- Article Content -->
                <div class="mt-8 prose prose-zinc dark:prose-invert">
                  <p>Last year I wrote a blog post, “<a href="https://mariochavez.io/desarrollo/2019/12/23/i-created-the-same-app-with-rails-and-javascript.html" target="_blank">I created the same application with Rails and Javascript</a>”, following a trend of posts where the author <a href="https://medium.com/@sunilsandhu" target="_blank">Sunil Sandhu</a> did the same comparing a few frontend Javascript libraries.</p>

<p>My approach in that blog post was using Rails to render all HTML and then using a bit of Javascript with <a href="https://stimulusjs.org" target="_blank">Stimulus</a> to recreate the same application behavior.</p>

<p>A few weeks ago, I found a tweet from <a href="https://twitter.com/chris_mccord/status/1252997316103081984" target="_blank">Chris McCord</a>, the creator of Phoenix Framework for Elixir, where he was showcasing a new functionality coming with Phoenix 1.5, he wrote a small Twitter clone without Javascript, it was beautiful.</p>

<div class="gallery">
  <figure>
    <img src="/images/rails_todo/chris-mccord.png" loading="lazy" />
  </figure>
</div>

<p>Later, I found a <a href="https://twitter.com/mario_chavez/status/1256263180722081792" target="_blank">video</a> from <a href="https://twitter.com/hopsoft" target="_blank">Hopsoft</a> where he did the same with Ruby on Rails using his libraries <a href="https://cableready.stimulusreflex.com" target="_blank">CableReady</a> and <a href="https://docs.stimulusreflex.com" target="_blank">StimulusReflex</a>, no Javascript, just Ruby using Rails’ ActionCable to broadcast DOM changes, it was fantastic.</p>

<div class="gallery">
  <figure>
    <img src="/images/rails_todo/mario-chavez.png" loading="lazy" />
  </figure>
</div>

<p>So I decided to give another try to the same application by removing the Javascript that I wrote for it. The starting code for this post is at <a href="https://github.com/mariochavez/rails-todo-2019" target="_blank">https://github.com/mariochavez/rails-todo-2019</a>.</p>

<h2 id="setup-actioncable">Setup ActionCable</h2>

<p>In the original application the Rails application was created without <a href="https://guides.rubyonrails.org/action_cable_overview.html" target="_blank">ActionCable</a> support; it is needed for CableReady to work.</p>

<p>First, make sure that <code class="highlighter-rouge">config/application.rb</code> has the following line uncommented.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s2">"action_cable/engine"</span>
</code></pre></div></div>

<p>Create the file <code class="highlighter-rouge">config/cable.yml</code> and add the following content.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">development</span><span class="pi">:</span>
  <span class="na">adapter</span><span class="pi">:</span> <span class="s">async</span>

<span class="na">test</span><span class="pi">:</span>
  <span class="na">adapter</span><span class="pi">:</span> <span class="s">async</span>

<span class="na">production</span><span class="pi">:</span>
  <span class="na">adapter</span><span class="pi">:</span> <span class="s">redis</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s">redis://127.0.0.1:6381</span>
  <span class="na">channel_prefix</span><span class="pi">:</span> <span class="s">todos_production</span>
</code></pre></div></div>

<p>Using <code class="highlighter-rouge">async</code> in this case, save us from the need to have a Redis instance running on Development and Test. Still, add the Redis library to your <code class="highlighter-rouge">Gemfile</code>.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"redis"</span><span class="p">,</span> <span class="s2">"~&gt; 4.2"</span>
</code></pre></div></div>

<p>ActionCable works with a Javascript side, so we need to install the libraries with Yarn.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>yarn add @rails/actioncable
</code></pre></div></div>

<p>Finally, generate an ActionCable channel with the following command and require the channels in your <code class="highlighter-rouge">app/javascript/pack/application.js</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bin/rails g channel todo
</code></pre></div></div>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nx">app</span><span class="o">/</span><span class="nx">javascript</span><span class="o">/</span><span class="nx">pack</span><span class="o">/</span><span class="nx">application</span><span class="p">.</span><span class="nx">js</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">channels</span><span class="dl">"</span>
</code></pre></div></div>

<p>At this point, ActionCable is ready for us to use.</p>

<h2 id="remove-javascript-code">Remove Javascript code</h2>

<p>This step is quite simple, remove the two Stimulus controllers from the previous version of this application.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">rm </span>app/javascript/controllers/todo_controller.js app/javascript/controllers/todo_delete_controller.js
</code></pre></div></div>

<p>The application does not work anymore after removing these files — Cleanup the Rails templates from all the data attributes required by the deleted Stimulus controllers.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># app/views/todos/_todo.html.erb

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"&lt;%= dom_id(todo) %&gt;"</span> <span class="na">class=</span><span class="s">"ToDoItem"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"ToDoItem-Text"</span><span class="nt">&gt;&lt;</span><span class="err">%=</span> <span class="na">todo.name</span> <span class="err">%</span><span class="nt">&gt;&lt;/p&gt;</span>
  <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">button_to</span> <span class="err">"</span><span class="na">-</span><span class="err">",</span> <span class="na">todo_path</span><span class="err">(</span><span class="na">todo.id</span><span class="err">),</span>
      <span class="na">method:</span> <span class="na">:delete</span><span class="err">,</span>
      <span class="na">remote:</span> <span class="na">true</span><span class="err">,</span>
      <span class="na">class:</span> <span class="err">"</span><span class="na">ToDoItem-Delete</span><span class="err">"</span>
     <span class="err">%</span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>In this template, you need the <code class="highlighter-rouge">Todo#id</code> attribute; the <code class="highlighter-rouge">dom_id</code> method creates an id like <code class="highlighter-rouge">todo_1</code> for you.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># app/views/todos/index.html.erb

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"ToDo"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">image_tag</span> <span class="na">asset_pack_path</span><span class="err">("</span><span class="na">media</span><span class="err">/</span><span class="na">images</span><span class="err">/</span><span class="na">logo.png</span><span class="err">"),</span> <span class="na">class:</span> <span class="err">"</span><span class="na">Logo</span><span class="err">",</span> <span class="na">alt:</span> <span class="err">"</span><span class="na">Rails</span> <span class="na">logo</span><span class="err">"</span> <span class="err">%</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"ToDo-Header"</span><span class="nt">&gt;</span>Rails To Do<span class="nt">&lt;/h1&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"ToDo-Container"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"todo-list"</span> <span class="na">class=</span><span class="s">"ToDo-Content"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">render</span> <span class="err">@</span><span class="na">todos</span> <span class="err">%</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"ToDoInput"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">form_with</span> <span class="na">model:</span> <span class="err">@</span><span class="na">todo</span><span class="err">,</span> <span class="na">local:</span> <span class="na">false</span> <span class="na">do</span> <span class="err">|</span><span class="na">form</span><span class="err">|</span> <span class="err">%</span><span class="nt">&gt;</span>
        <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">form.text_field</span> <span class="na">:name</span> <span class="err">%</span><span class="nt">&gt;</span>
        <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">form.submit</span> <span class="err">"+",</span> <span class="na">class:</span> <span class="err">"</span><span class="na">ToDo-Add</span><span class="err">"</span> <span class="err">%</span><span class="nt">&gt;</span>
      <span class="nt">&lt;</span><span class="err">%</span> <span class="na">end</span> <span class="err">%</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>This template needs the id for the Todos list container. Here how it looks after removing all data attributes.</p>

<h2 id="reimplement-functionality-without-javascript">Reimplement functionality without Javascript</h2>

<p>It is the time to install CableReady in your application.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle add cable_ready
<span class="nv">$ </span>yarn add cable_ready
</code></pre></div></div>

<p>With CableReady installed, we need to setup ActionCable’s channel for it. First, setup the Javascript channel to require the CableReady library and update the <code class="highlighter-rouge">received</code> method to call CableReady if data transmitted via ActionCable is CableReady data.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nx">app</span><span class="o">/</span><span class="nx">javascript</span><span class="o">/</span><span class="nx">channels</span><span class="o">/</span><span class="nx">todo_channel</span><span class="p">.</span><span class="nx">js</span>

<span class="k">import</span> <span class="nx">consumer</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./consumer</span><span class="dl">"</span>
<span class="k">import</span> <span class="nx">CableReady</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">cable_ready</span><span class="dl">"</span>

<span class="nx">consumer</span><span class="p">.</span><span class="nx">subscriptions</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="dl">"</span><span class="s2">TodoChannel</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="nf">connected</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Called when the subscription is ready for use on the server</span>
  <span class="p">},</span>

  <span class="nf">disconnected</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Called when the subscription has been terminated by the server</span>
  <span class="p">},</span>

  <span class="nf">received</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">cableReady</span><span class="p">)</span> <span class="nx">CableReady</span><span class="p">.</span><span class="nf">perform</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">operations</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Next, open the <code class="highlighter-rouge">TodoChannel</code> class and set the stream name to <em>“todos”</em>.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/channels/todo_channel.rb</span>

<span class="k">class</span> <span class="nc">TodoChannel</span> <span class="o">&lt;</span> <span class="no">ApplicationCable</span><span class="o">::</span><span class="no">Channel</span>
  <span class="k">def</span> <span class="nf">subscribed</span>
    <span class="n">stream_from</span> <span class="s2">"todos"</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">unsubscribed</span>
    <span class="c1"># Any cleanup needed when channel is unsubscribed</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>First, reimplement the delete functionality for Todos. This one is quite simple; when the user clicks on the delete button, an ajax call is made via Rails UJS and received by <code class="highlighter-rouge">TodosController#destroy</code> action. Here you tell CableReady what operations to perform back to the DOM and broadcast them via ActionCable.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/controllers/todos_controller.rb</span>

<span class="k">def</span> <span class="nf">destroy</span>
  <span class="n">todo</span> <span class="o">=</span> <span class="no">Todo</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">id: </span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
  <span class="n">todo</span><span class="p">.</span><span class="nf">destroy</span>

  <span class="n">cable_ready</span><span class="p">[</span><span class="no">TODOS_CHANNEL</span><span class="p">].</span><span class="nf">remove</span><span class="p">(</span><span class="ss">selector: </span><span class="s2">"#</span><span class="si">#{</span><span class="no">ActionView</span><span class="o">::</span><span class="no">RecordIdentifier</span><span class="p">.</span><span class="nf">dom_id</span><span class="p">(</span><span class="n">todo</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
  <span class="n">cable_ready</span><span class="p">.</span><span class="nf">broadcast</span>

  <span class="n">render</span> <span class="ss">plain: </span><span class="s2">""</span><span class="p">,</span> <span class="ss">status: :no_content</span>
<span class="k">end</span>
</code></pre></div></div>

<p>The <em>remove</em> operation needs the id of the Todoto remove, and then the operation is broadcast to the browser. The Todo is removed not only in your browser but if we have other browsers or tabs open with the application, the Todo is removed across all of them. Here is what CableReady send via ActionCable.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="dl">"</span><span class="s2">identifier</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TodoChannel</span><span class="se">\"</span><span class="s2">}</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">cableReady</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">operations</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">remove</span><span class="dl">"</span><span class="p">:[{</span><span class="dl">"</span><span class="s2">selector</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">#todo_14</span><span class="dl">"</span><span class="p">}]}}}</span>
</code></pre></div></div>

<p>To create a new Todo, you need more than one operation to be broadcasted, CableReady allows you to batch operations very easy.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/controllers/todos_controller.rb</span>

<span class="k">def</span> <span class="nf">create</span>
  <span class="n">todo</span> <span class="o">=</span> <span class="no">Todo</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">todo_params</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">todo</span><span class="p">.</span><span class="nf">save</span>
    <span class="n">cable_ready</span><span class="p">[</span><span class="no">TODOS_CHANNEL</span><span class="p">].</span><span class="nf">insert_adjacent_html</span><span class="p">(</span>
      <span class="ss">selector: </span><span class="s2">"#todo-list"</span><span class="p">,</span>
      <span class="ss">position: </span><span class="s2">"afterbegin"</span><span class="p">,</span>
      <span class="ss">html: </span><span class="n">render_to_string</span><span class="p">(</span><span class="ss">partial: </span><span class="s2">"todos/todo"</span><span class="p">,</span> <span class="ss">locals: </span><span class="p">{</span><span class="ss">todo: </span><span class="n">todo</span><span class="p">},</span> <span class="ss">formats: </span><span class="p">[</span><span class="ss">:html</span><span class="p">])</span>
    <span class="p">)</span>
    <span class="n">cable_ready</span><span class="p">[</span><span class="no">TODOS_CHANNEL</span><span class="p">].</span><span class="nf">set_value</span><span class="p">(</span>
      <span class="ss">selector: </span><span class="s2">"#todo_name"</span><span class="p">,</span>
      <span class="ss">value: </span><span class="s2">""</span>
    <span class="p">)</span>
    <span class="n">cable_ready</span><span class="p">[</span><span class="no">TODOS_CHANNEL</span><span class="p">].</span><span class="nf">remove</span><span class="p">(</span>
      <span class="ss">selector: </span><span class="s2">".error"</span>
    <span class="p">)</span>
    <span class="n">cable_ready</span><span class="p">.</span><span class="nf">broadcast</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="ss">plain: </span><span class="s2">""</span><span class="p">,</span> <span class="ss">status: :created</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="n">cable_ready</span><span class="p">[</span><span class="no">TODOS_CHANNEL</span><span class="p">].</span><span class="nf">insert_adjacent_html</span><span class="p">(</span>
    <span class="ss">selector: </span><span class="s2">"#todo_name"</span><span class="p">,</span>
    <span class="ss">position: </span><span class="s2">"afterend"</span><span class="p">,</span>
    <span class="ss">html: </span><span class="s2">"&lt;p class='error'&gt;</span><span class="si">#{</span><span class="n">todo</span><span class="p">.</span><span class="nf">errors</span><span class="p">[</span><span class="ss">:name</span><span class="p">].</span><span class="nf">first</span><span class="si">}</span><span class="s2">&lt;/p&gt;"</span>
  <span class="p">)</span>
  <span class="n">cable_ready</span><span class="p">.</span><span class="nf">broadcast</span>

  <span class="n">render</span> <span class="ss">json: </span><span class="p">{</span><span class="ss">errors: </span><span class="n">todo</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">to_h</span><span class="p">},</span> <span class="ss">status: :unprocessable_entity</span>
<span class="k">end</span>
</code></pre></div></div>

<p>The form to create a new Todo in our UI sends a remote form call via Rails UJS; this call is dispatched to <code class="highlighter-rouge">TodosController#create</code> action, which validates and saves the received Todo. If the Todo is saved, then it performs 3 CableReady operations.</p>

<ol>
  <li>The <code class="highlighter-rouge">insert_adjacent_html</code> operation renders a partial HTML for the new Todo and is inserted at the top of the todos list container identified by <code class="highlighter-rouge">#todo-list</code>.</li>
  <li>Clears the value for Todo’s input in the form by using the <code class="highlighter-rouge">set_value</code> method.</li>
  <li>If there is any error from previous actions, it clears the error with the <code class="highlighter-rouge">remove</code> method.</li>
</ol>

<p>If validation fails and the Todo is not saved, an error is added via the <code class="highlighter-rouge">insert_adjacent_html</code> method.</p>

<p>You are done; after these changes, the application should behave as before. You manage to remove all written Javascript for this application while keeping the same functionality.</p>

<h2 id="final-words">Final words</h2>

<p>First of all, it is clear that you are using Javascript but not Javascript code that you need to maintain. Under the hood, ActionCable and CableReady provide Javascript functionality to interact with the Browser.</p>

<p>Writing applications this way, opens the world a new kind of Rails applications that are reactive, connected, and that takes advantage of Server Side Rendering, Caching, and minimal frontend Javascript. I am eager to see the first Rails applications build this way.</p>

                </div>
              </article>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>


      <!-- Footer -->
<footer class="mt-32 flex-none">
  <div class="sm:px-8">
    <div class="mx-auto w-full max-w-7xl lg:px-8">
      <div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="flex flex-col items-center justify-between gap-6 sm:flex-row">
              <div
                class="
                  flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-800
                  dark:text-zinc-200
                "
              >
              
                <a
                    href="/about"
                  class="
                    transition hover:text-emerald-500
                    dark:hover:text-emerald-400
                  "
                >
                About
                </a>
              
                <a
                    href="/articles"
                  class="
                    transition hover:text-emerald-500
                    dark:hover:text-emerald-400
                  "
                >
                Articles
                </a>
              
                <a
                    href="/projects"
                  class="
                    transition hover:text-emerald-500
                    dark:hover:text-emerald-400
                  "
                >
                Projects
                </a>
              
              </div>

              <p class="text-sm text-zinc-400 dark:text-zinc-500">
              &copy; 2025 Mario Alberto Chávez. All rights reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

    </div>
  </body>
</html>
